import{S as e,i as t,s,e as n,a as o,t as i,c as r,b as a,f as l,g as c,d,h as $,j as u,k as f,w as m,n as g,K as h,o as p,$ as w,_ as x,A as v,Z as y,r as b,D as N,u as E,v as z,y as B,C as _,x as A,z as S,l as k,m as C,a2 as I,F as q,N as D,I as P,P as j,q as O,Q as T,a1 as V,E as H,p as M,G as R,H as F,J as L}from"./client.c5f629ee.js";import{G as Z}from"./GroupBlock.898dad30.js";function G(e){let t,s,h,p,w,x,v,y,b,N,E,z,B,_=(e[3]||"~")+"";return{c(){t=n("div"),s=n("span"),h=o(),p=n("span"),w=o(),x=n("span"),v=o(),y=n("span"),b=o(),N=n("span"),E=i(_),this.h()},l(e){t=r(e,"DIV",{class:!0,style:!0});var n=a(t);s=r(n,"SPAN",{class:!0,style:!0}),a(s).forEach(l),h=c(n),p=r(n,"SPAN",{class:!0,style:!0}),a(p).forEach(l),w=c(n),x=r(n,"SPAN",{class:!0,style:!0}),a(x).forEach(l),v=c(n),y=r(n,"SPAN",{class:!0,style:!0}),a(y).forEach(l),b=c(n),N=r(n,"SPAN",{class:!0});var o=a(N);E=d(o,_),o.forEach(l),n.forEach(l),this.h()},h(){$(s,"class","ring a svelte-1bdiq0m"),$(s,"style",e[5]),$(p,"class","ring b svelte-1bdiq0m"),$(p,"style",e[5]),$(x,"class","ring c svelte-1bdiq0m"),$(x,"style",e[5]),$(y,"class","bg svelte-1bdiq0m"),$(y,"style",e[5]),$(N,"class","txt svelte-1bdiq0m"),$(t,"class",z="timer "+e[1]+" "+(e[2]?"paused":"")+" svelte-1bdiq0m"),$(t,"style",B=""+(e[4]+e[0]))},m(e,n){u(e,t,n),f(t,s),f(t,h),f(t,p),f(t,w),f(t,x),f(t,v),f(t,y),f(t,b),f(t,N),f(N,E)},p(e,[n]){32&n&&$(s,"style",e[5]),32&n&&$(p,"style",e[5]),32&n&&$(x,"style",e[5]),32&n&&$(y,"style",e[5]),8&n&&_!==(_=(e[3]||"~")+"")&&m(E,_),6&n&&z!==(z="timer "+e[1]+" "+(e[2]?"paused":"")+" svelte-1bdiq0m")&&$(t,"class",z),17&n&&B!==(B=""+(e[4]+e[0]))&&$(t,"style",B)},i:g,o:g,d(e){e&&l(t)}}}function J(){for(var e=1;e<99999;e++)window.clearInterval(e),window.cancelAnimationFrame(e)}function K(e,t,s){const n=h();let o,i,r,a,l,c,{time:d}=t,{size:$=150}=t,{style:u}=t,{className:f="spin"}=t,{paused:m=!1}=t,{id:g=""}=t,x=!1;function v(e){"undefined"==typeof window||"undefined"==typeof document||x||(J(),s(6,d=e),s(3,o=d),i=d,a=0,r=new Date,console.log("[Timer] ⏰  onRestart:",g),window.requestAnimationFrame(y),n("start",i))}function y(){if("undefined"!=typeof window&&"undefined"!=typeof document){let e=!0;if(!m&&o>0){a=(new Date-r)/1e3;const t=o;i=d-a,s(3,o=parseInt(i,10)),o!=t&&(n("second",i),0==o&&(n("end",i),J(),e=!1))}else r=new Date-1e3*a;e&&!x&&(console.log("[Timer] ⏰  onFrame:",g),window.requestAnimationFrame(y))}else console.error("there is no window to request animation frame from")}return p(async()=>{x=!1,console.log("[Timer] ⏰✅  onMount (restart) :",g),v(d)}),w(()=>{console.log("[Timer] ⏰❌  onDestroy:",g),x=!0}),e.$$set=e=>{"time"in e&&s(6,d=e.time),"size"in e&&s(7,$=e.size),"style"in e&&s(0,u=e.style),"className"in e&&s(1,f=e.className),"paused"in e&&s(2,m=e.paused),"id"in e&&s(8,g=e.id)},e.$$.update=()=>{128&e.$$.dirty&&s(4,l=`font-size:${.4*$}px;line-height:${$}px;border-radius:${$}px;width:${$}px;height:${$}px;flex-basis:${$}px;max-height:${$}px;`),128&e.$$.dirty&&s(5,c=`border-radius:${$}px;animation-delay:-${Math.floor(100*Math.random())}s;`)},[u,f,m,o,l,c,d,$,g,v]}class Q extends e{constructor(e){super(),t(this,e,K,G,s,{time:6,size:7,style:0,className:1,paused:2,id:8,restart:9})}get restart(){return this.$$.ctx[9]}}function U(e){let t,s;return{c(){t=x("svg"),s=x("path"),this.h()},l(e){t=r(e,"svg",{width:!0,height:!0,viewBox:!0},1);var n=a(t);s=r(n,"path",{d:!0,fill:!0},1),a(s).forEach(l),n.forEach(l),this.h()},h(){$(s,"d","M14,19H18V5H14M6,19H10V5H6V19Z"),$(s,"fill",e[2]),$(t,"width",e[0]),$(t,"height",e[1]),$(t,"viewBox",e[3])},m(e,n){u(e,t,n),f(t,s)},p(e,[n]){4&n&&$(s,"fill",e[2]),1&n&&$(t,"width",e[0]),2&n&&$(t,"height",e[1]),8&n&&$(t,"viewBox",e[3])},i:g,o:g,d(e){e&&l(t)}}}function W(e,t,s){let{size:n="1em"}=t,{width:o=n}=t,{height:i=n}=t,{color:r="currentColor"}=t,{viewBox:a="0 0 24 24"}=t;return e.$$set=e=>{"size"in e&&s(4,n=e.size),"width"in e&&s(0,o=e.width),"height"in e&&s(1,i=e.height),"color"in e&&s(2,r=e.color),"viewBox"in e&&s(3,a=e.viewBox)},[o,i,r,a,n]}class X extends e{constructor(e){super(),t(this,e,W,U,s,{size:4,width:0,height:1,color:2,viewBox:3})}}function Y(e){let t,s;return{c(){t=x("svg"),s=x("path"),this.h()},l(e){t=r(e,"svg",{width:!0,height:!0,viewBox:!0},1);var n=a(t);s=r(n,"path",{d:!0,fill:!0},1),a(s).forEach(l),n.forEach(l),this.h()},h(){$(s,"d","M8,5.14V19.14L19,12.14L8,5.14Z"),$(s,"fill",e[2]),$(t,"width",e[0]),$(t,"height",e[1]),$(t,"viewBox",e[3])},m(e,n){u(e,t,n),f(t,s)},p(e,[n]){4&n&&$(s,"fill",e[2]),1&n&&$(t,"width",e[0]),2&n&&$(t,"height",e[1]),8&n&&$(t,"viewBox",e[3])},i:g,o:g,d(e){e&&l(t)}}}function ee(e,t,s){let{size:n="1em"}=t,{width:o=n}=t,{height:i=n}=t,{color:r="currentColor"}=t,{viewBox:a="0 0 24 24"}=t;return e.$$set=e=>{"size"in e&&s(4,n=e.size),"width"in e&&s(0,o=e.width),"height"in e&&s(1,i=e.height),"color"in e&&s(2,r=e.color),"viewBox"in e&&s(3,a=e.viewBox)},[o,i,r,a,n]}class te extends e{constructor(e){super(),t(this,e,ee,Y,s,{size:4,width:0,height:1,color:2,viewBox:3})}}function se(e){let t,s;return{c(){t=x("svg"),s=x("path"),this.h()},l(e){t=r(e,"svg",{width:!0,height:!0,viewBox:!0},1);var n=a(t);s=r(n,"path",{d:!0,fill:!0},1),a(s).forEach(l),n.forEach(l),this.h()},h(){$(s,"d","M17.65,6.35C16.2,4.9 14.21,4 12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20C15.73,20 18.84,17.45 19.73,14H17.65C16.83,16.33 14.61,18 12,18A6,6 0 0,1 6,12A6,6 0 0,1 12,6C13.66,6 15.14,6.69 16.22,7.78L13,11H20V4L17.65,6.35Z"),$(s,"fill",e[2]),$(t,"width",e[0]),$(t,"height",e[1]),$(t,"viewBox",e[3])},m(e,n){u(e,t,n),f(t,s)},p(e,[n]){4&n&&$(s,"fill",e[2]),1&n&&$(t,"width",e[0]),2&n&&$(t,"height",e[1]),8&n&&$(t,"viewBox",e[3])},i:g,o:g,d(e){e&&l(t)}}}function ne(e,t,s){let{size:n="1em"}=t,{width:o=n}=t,{height:i=n}=t,{color:r="currentColor"}=t,{viewBox:a="0 0 24 24"}=t;return e.$$set=e=>{"size"in e&&s(4,n=e.size),"width"in e&&s(0,o=e.width),"height"in e&&s(1,i=e.height),"color"in e&&s(2,r=e.color),"viewBox"in e&&s(3,a=e.viewBox)},[o,i,r,a,n]}class oe extends e{constructor(e){super(),t(this,e,ne,se,s,{size:4,width:0,height:1,color:2,viewBox:3})}}function ie(e,t,s){const n=e.slice();return n[24]=t[s],n}function re(e){let t,s,n;function o(t){e[12].call(null,t)}let i={className:"spin",id:"INTRO: "+e[5].description,time:e[4].break_time,paused:e[0]};return void 0!==e[2]&&(i.restart=e[2]),t=new Q({props:i}),R.push(()=>F(t,"restart",o)),t.$on("start",ze),t.$on("second",e[7]),t.$on("end",e[8]),{c(){b(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,s){z(t,e,s),n=!0},p(e,n){const o={};32&n&&(o.id="INTRO: "+e[5].description),16&n&&(o.time=e[4].break_time),1&n&&(o.paused=e[0]),!s&&4&n&&(s=!0,o.restart=e[2],L(()=>s=!1)),t.$set(o)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){B(t.$$.fragment,e),n=!1},d(e){S(t,e)}}}function ae(e){let t,s;return t=new Q({props:{className:"pulse",id:"RECORD: "+e[5].description,time:e[5].time}}),t.$on("start",Be),t.$on("second",_e),t.$on("end",e[9]),{c(){b(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){z(t,e,n),s=!0},p(e,s){const n={};32&s&&(n.id="RECORD: "+e[5].description),32&s&&(n.time=e[5].time),t.$set(n)},i(e){s||(A(t.$$.fragment,e),s=!0)},o(e){B(t.$$.fragment,e),s=!1},d(e){S(t,e)}}}function le(e){let t,s,n,o;const i=[ae,re],r=[];function a(e,t){return e[1]?0:1}return t=a(e),s=r[t]=i[t](e),{c(){s.c(),n=N()},l(e){s.l(e),n=N()},m(e,s){r[t].m(e,s),u(e,n,s),o=!0},p(e,o){let l=t;t=a(e),t===l?r[t].p(e,o):(q(),B(r[l],1,1,()=>{r[l]=null}),_(),s=r[t],s||(s=r[t]=i[t](e),s.c()),A(s,1),s.m(n.parentNode,n))},i(e){o||(A(s),o=!0)},o(e){B(s),o=!1},d(e){r[t].d(e),e&&l(n)}}}function ce(e){let t,s=e[5].example.data&&de(e);return{c(){s&&s.c(),t=N()},l(e){s&&s.l(e),t=N()},m(e,n){s&&s.m(e,n),u(e,t,n)},p(e,n){e[5].example.data?s?s.p(e,n):(s=de(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null)},d(e){s&&s.d(e),e&&l(t)}}}function de(e){let t,s;return{c(){t=n("audio"),this.h()},l(e){t=r(e,"AUDIO",{style:!0,class:!0,src:!0,autoplay:!0,controls:!0}),a(t).forEach(l),this.h()},h(){D(t,"max-width","120px"),$(t,"class","mtb06 grow"),t.src!==(s=e[5].example.data.full_url)&&$(t,"src",s),t.autoplay=!0,t.controls=!0},m(e,s){u(e,t,s)},p(e,n){32&n&&t.src!==(s=e[5].example.data.full_url)&&$(t,"src",s)},d(e){e&&l(t)}}}function $e(e){let t,s,o,c=e[24].tag_id.title+"";return{c(){t=n("span"),s=i(c),o=i(" ")},l(e){t=r(e,"SPAN",{});var n=a(t);s=d(n,c),o=d(n," "),n.forEach(l)},m(e,n){u(e,t,n),f(t,s),f(t,o)},p(e,t){32&t&&c!==(c=e[24].tag_id.title+"")&&m(s,c)},d(e){e&&l(t)}}}function ue(e){let t,s,g,h,p,w,x,v,y,b,N,E=e[4].exercises.length+"",z=e[5].description+"",B="sound"==e[4].point_of_interest&&e[5].example&&ce(e),_=e[5].tags,A=[];for(let t=0;t<_.length;t+=1)A[t]=$e(ie(e,_,t));return{c(){B&&B.c(),t=o(),s=n("div"),g=n("div"),h=i(e[3]),p=i("/"),w=i(E),x=i(": "),v=i(z),y=o(),b=n("div"),N=i("Tags:\n      ");for(let e=0;e<A.length;e+=1)A[e].c();this.h()},l(n){B&&B.l(n),t=c(n),s=r(n,"DIV",{class:!0});var o=a(s);g=r(o,"DIV",{});var i=a(g);h=d(i,e[3]),p=d(i,"/"),w=d(i,E),x=d(i,": "),v=d(i,z),i.forEach(l),y=c(o),b=r(o,"DIV",{});var $=a(b);N=d($,"Tags:\n      ");for(let e=0;e<A.length;e+=1)A[e].l($);$.forEach(l),o.forEach(l),this.h()},h(){$(s,"class","grow")},m(e,n){B&&B.m(e,n),u(e,t,n),u(e,s,n),f(s,g),f(g,h),f(g,p),f(g,w),f(g,x),f(g,v),f(s,y),f(s,b),f(b,N);for(let e=0;e<A.length;e+=1)A[e].m(b,null)},p(e,s){if("sound"==e[4].point_of_interest&&e[5].example?B?B.p(e,s):(B=ce(e),B.c(),B.m(t.parentNode,t)):B&&(B.d(1),B=null),8&s&&m(h,e[3]),16&s&&E!==(E=e[4].exercises.length+"")&&m(w,E),32&s&&z!==(z=e[5].description+"")&&m(v,z),32&s){let t;for(_=e[5].tags,t=0;t<_.length;t+=1){const n=ie(e,_,t);A[t]?A[t].p(n,s):(A[t]=$e(n),A[t].c(),A[t].m(b,null))}for(;t<A.length;t+=1)A[t].d(1);A.length=_.length}},d(e){B&&B.d(e),e&&l(t),e&&l(s),P(A,e)}}}function fe(e){let t,s,m,g,h,p,w;return s=new V({}),p=new y({props:{a:{grow:!0},className:"mlr06 pb06",$$slots:{default:[ve]},$$scope:{ctx:e}}}),{c(){t=n("a"),b(s.$$.fragment),m=i(" Back"),h=o(),b(p.$$.fragment),this.h()},l(e){t=r(e,"A",{style:!0,href:!0});var n=a(t);E(s.$$.fragment,n),m=d(n," Back"),n.forEach(l),h=c(e),E(p.$$.fragment,e),this.h()},h(){D(t,"position","absolute"),D(t,"top","50px"),D(t,"left","10px"),D(t,"flex-direction","row"),D(t,"align-items","center"),$(t,"href",g="/session/"+e[4].url)},m(e,n){u(e,t,n),z(s,t,null),f(t,m),u(e,h,n),z(p,e,n),w=!0},p(e,s){(!w||16&s&&g!==(g="/session/"+e[4].url))&&$(t,"href",g);const n={};134217749&s&&(n.$$scope={dirty:s,ctx:e}),p.$set(n)},i(e){w||(A(s.$$.fragment,e),A(p.$$.fragment,e),w=!0)},o(e){B(s.$$.fragment,e),B(p.$$.fragment,e),w=!1},d(e){e&&l(t),S(s),e&&l(h),S(p,e)}}}function me(e){let t,s;return t=new y({props:{a:{grow:!0},className:"mlr06",$$slots:{default:[be]},$$scope:{ctx:e}}}),{c(){b(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){z(t,e,n),s=!0},p(e,s){const n={};134217728&s&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){s||(A(t.$$.fragment,e),s=!0)},o(e){B(t.$$.fragment,e),s=!1},d(e){S(t,e)}}}function ge(e){let t,s,o;return s=new oe({}),{c(){t=n("span"),b(s.$$.fragment)},l(e){t=r(e,"SPAN",{});var n=a(t);E(s.$$.fragment,n),n.forEach(l)},m(e,n){u(e,t,n),z(s,t,null),o=!0},i(e){o||(A(s.$$.fragment,e),o=!0)},o(e){B(s.$$.fragment,e),o=!1},d(e){e&&l(t),S(s)}}}function he(e){let t,s,o;return s=new X({}),{c(){t=n("span"),b(s.$$.fragment)},l(e){t=r(e,"SPAN",{});var n=a(t);E(s.$$.fragment,n),n.forEach(l)},m(e,n){u(e,t,n),z(s,t,null),o=!0},i(e){o||(A(s.$$.fragment,e),o=!0)},o(e){B(s.$$.fragment,e),o=!1},d(e){e&&l(t),S(s)}}}function pe(e){let t,s,o;return s=new te({}),{c(){t=n("span"),b(s.$$.fragment)},l(e){t=r(e,"SPAN",{});var n=a(t);E(s.$$.fragment,n),n.forEach(l)},m(e,n){u(e,t,n),z(s,t,null),o=!0},i(e){o||(A(s.$$.fragment,e),o=!0)},o(e){B(s.$$.fragment,e),o=!1},d(e){e&&l(t),S(s)}}}function we(e){let t,s,n,o;const i=[pe,he],r=[];function a(e,t){return e[0]?0:1}return t=a(e),s=r[t]=i[t](e),{c(){s.c(),n=N()},l(e){s.l(e),n=N()},m(e,s){r[t].m(e,s),u(e,n,s),o=!0},p(e,o){let l=t;t=a(e),t!==l&&(q(),B(r[l],1,1,()=>{r[l]=null}),_(),s=r[t],s||(s=r[t]=i[t](e),s.c()),A(s,1),s.m(n.parentNode,n))},i(e){o||(A(s),o=!0)},o(e){B(s),o=!1},d(e){r[t].d(e),e&&l(n)}}}function xe(e){let t;return{c(){t=i("10s")},l(e){t=d(e,"10s")},m(e,s){u(e,t,s)},d(e){e&&l(t)}}}function ve(e){let t,s,n,i,r,a;return t=new H({props:{a:{grow:!0},$$slots:{default:[ge]},$$scope:{ctx:e}}}),t.$on("click",e[13]),n=new H({props:{a:{grow:!0},$$slots:{default:[we]},$$scope:{ctx:e}}}),n.$on("click",e[14]),r=new H({props:{a:{grow:!0},$$slots:{default:[xe]},$$scope:{ctx:e}}}),r.$on("click",e[15]),{c(){b(t.$$.fragment),s=o(),b(n.$$.fragment),i=o(),b(r.$$.fragment)},l(e){E(t.$$.fragment,e),s=c(e),E(n.$$.fragment,e),i=c(e),E(r.$$.fragment,e)},m(e,o){z(t,e,o),u(e,s,o),z(n,e,o),u(e,i,o),z(r,e,o),a=!0},p(e,s){const o={};134217728&s&&(o.$$scope={dirty:s,ctx:e}),t.$set(o);const i={};134217729&s&&(i.$$scope={dirty:s,ctx:e}),n.$set(i);const a={};134217728&s&&(a.$$scope={dirty:s,ctx:e}),r.$set(a)},i(e){a||(A(t.$$.fragment,e),A(n.$$.fragment,e),A(r.$$.fragment,e),a=!0)},o(e){B(t.$$.fragment,e),B(n.$$.fragment,e),B(r.$$.fragment,e),a=!1},d(e){S(t,e),e&&l(s),S(n,e),e&&l(i),S(r,e)}}}function ye(e){let t;return{c(){t=i("Panic!")},l(e){t=d(e,"Panic!")},m(e,s){u(e,t,s)},d(e){e&&l(t)}}}function be(e){let t,s;return t=new H({props:{a:{grow:!0,height:"60px"},className:"pb1",$$slots:{default:[ye]},$$scope:{ctx:e}}}),t.$on("click",e[10]),{c(){b(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){z(t,e,n),s=!0},p(e,s){const n={};134217728&s&&(n.$$scope={dirty:s,ctx:e}),t.$set(n)},i(e){s||(A(t.$$.fragment,e),s=!0)},o(e){B(t.$$.fragment,e),s=!1},d(e){S(t,e)}}}function Ne(e){let t,s,n,i,r,a,d,$;t=new Z({props:{className:"justify-center align-center",$$slots:{default:[le]},$$scope:{ctx:e}}}),n=new y({props:{a:{grow:!0},className:"align-center mlr06",$$slots:{default:[ue]},$$scope:{ctx:e}}});const f=[me,fe],m=[];function g(e,t){return e[1]?0:1}return r=g(e),a=m[r]=f[r](e),{c(){b(t.$$.fragment),s=o(),b(n.$$.fragment),i=o(),a.c(),d=N()},l(e){E(t.$$.fragment,e),s=c(e),E(n.$$.fragment,e),i=c(e),a.l(e),d=N()},m(e,o){z(t,e,o),u(e,s,o),z(n,e,o),u(e,i,o),m[r].m(e,o),u(e,d,o),$=!0},p(e,[s]){const o={};134217783&s&&(o.$$scope={dirty:s,ctx:e}),t.$set(o);const i={};134217784&s&&(i.$$scope={dirty:s,ctx:e}),n.$set(i);let l=r;r=g(e),r===l?m[r].p(e,s):(q(),B(m[l],1,1,()=>{m[l]=null}),_(),a=m[r],a||(a=m[r]=f[r](e),a.c()),A(a,1),a.m(d.parentNode,d))},i(e){$||(A(t.$$.fragment,e),A(n.$$.fragment,e),A(a),$=!0)},o(e){B(t.$$.fragment,e),B(n.$$.fragment,e),B(a),$=!1},d(e){S(t,e),e&&l(s),S(n,e),e&&l(i),m[r].d(e),e&&l(d)}}}async function Ee(e,t){return v(e,t,this)}function ze(e){console.log("[session:slug:idx] 🖖🏁 intro start:",e.detail)}function Be(e){console.log("[session:slug:idx] 🔴🏁 record start:",e.detail)}function _e(e){console.log("[session:slug:idx] 🔴 recording:",e.detail)}function Ae(e,t,s){let n,o;k(e,M,e=>s(20,o=e));const{page:i}=C();k(e,i,e=>s(17,n=e));let r,{data:a}=t,l=!1,c=!1;function d(e){O.set({type:"wait",message:"Closing Camera"}),j.post("/camera/stop?as=json",{}).then(e=>{console.log("[session:slug:idx] 📸🛑  stopped recording");O.set({type:"wait",message:"Successfully Closed"}),j.post("/buzz?as=json",{sequence:"10 40 41 0.0001"}).then(()=>{setTimeout(()=>{s(1,c=!1);const e=$>=f.exercises.length-1?"/session/"+f.url+"/complete":"/session/"+f.url+"/"+(u+1);console.log("[session:slug:idx] 🛫  goto: ",e,$,f.exercises.length),T(e),O.set(null)},2e3)})}).catch(e=>{console.error("[session:slug:idx] could not stop 📸 ❌",e.toString(),Object.keys(e),e.response),O.set({type:"error",...e.response.data})})}p(async()=>{console.log("[session:slug:idx] 🤳 idx:",u)});let $,u,f,m,g,h,w,x;return e.$$set=e=>{"data"in e&&s(11,a=e.data)},e.$$.update=()=>{131072&e.$$.dirty&&s(16,$=parseInt(n.params.idx,10)-1),131072&e.$$.dirty&&s(3,u=parseInt(n.params.idx,10)),2048&e.$$.dirty&&s(4,f=a[0]||{}),65552&e.$$.dirty&&s(5,m=f.exercises[$]?f.exercises[$].exercise_id:{example:{data:{}}}),32&e.$$.dirty&&s(18,g=m.tags||[]),1310744&e.$$.dirty&&s(19,h=()=>{let e=o.hostname+"_";return e+=f.point_of_interest+"_",e+=f.url+"_",e+=u+"_",g.forEach((t,s)=>{t.tag_id&&(e+=t.tag_id.url,s<g.length-1&&(e+="-"))}),console.log("[SESSION] 🗯🦆  returning ID:",e),e}),524288&e.$$.dirty&&s(21,w=h()),3145728&e.$$.dirty&&(x={"session-id":`${w}_${I()}`,sources:{audio:{active:!0},video:{active:!0},heartrate:{active:!!o.backend.miband.connected}},sinks:{rstp:{active:!1},file:{active:!0},window:{active:!1}}})},[l,c,r,u,f,m,i,function(e){const t=parseInt(e.detail,10);if(t<=10&&0!=t){const s=1==t?"50 50 11 0.001":"100 100 1 0.001";console.log("Count",s,t),console.log("[session:slug:idx] 🖖 intro buzz:",e.detail),j.post("/buzz?as=json",{sequence:s})}},function(e){console.log("[session:slug:idx] 🖖 intro ended:",e.detail),O.set({type:"wait",message:"Opening Camera<br />Please wait..."}),j.post("/camera/start?as=json",x).then(e=>{console.log("[session:slug:idx] 📸  begun recording ✅"),s(1,c=!0),O.set(null)}).catch(e=>{console.error("[session:slug:idx] could not start 📸 ❌",e.toString(),Object.keys(e),e.response),j.post("/camera/stop?as=json",{}).then(e=>{console.log("[session:slug:idx] emergency stop was successful...")}).catch(e=>{console.error("[session:slug:idx] emergency stop was unsuccessful...",e.toString())}),O.set({type:"error",...e.response.data})})},function(e){console.log("[session:slug:idx] 🔴✅  recording ended:",e.detail),d()},d,a,function(e){r=e,s(2,r)},()=>r(f.break_time+1),()=>s(0,l=!l),()=>r(11)]}export default class extends e{constructor(e){super(),t(this,e,Ae,Ne,s,{data:11})}}export{Ee as preload};
