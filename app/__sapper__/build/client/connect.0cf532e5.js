import{A as t,S as e,i as s,s as n,B as a,M as o,z as r,a as c,D as $,g as l,E as i,j as f,F as m,G as g,H as p,f as d,m as u,l as y,o as w,n as k,q as x,N as b,O as h}from"./client.877fc7f9.js";import{K as q}from"./Keyboard.7d0bb224.js";function C(t){let e,s;return e=new q({props:{placeholder:t[1],text:t[2]}}),e.$on("submit",t[3]),{c(){r(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,n){i(e,t,n),s=!0},p:k,i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){p(e,t)}}}function N(t){let e,s,n,u;return e=new a({}),n=new o({props:{className:"mlr06 keyboard-wrapper",a:{grow:!0},$$slots:{default:[C]},$$scope:{ctx:t}}}),{c(){r(e.$$.fragment),s=c(),r(n.$$.fragment)},l(t){$(e.$$.fragment,t),s=l(t),$(n.$$.fragment,t)},m(t,a){i(e,t,a),f(t,s,a),i(n,t,a),u=!0},p(t,[e]){const s={};64&e&&(s.$$scope={dirty:e,ctx:t}),n.$set(s)},i(t){u||(m(e.$$.fragment,t),m(n.$$.fragment,t),u=!0)},o(t){g(e.$$.fragment,t),g(n.$$.fragment,t),u=!1},d(t){p(e,t),t&&d(s),p(n,t)}}}async function j(e,s){return t(e,s,this)}function K(t,e,s){let n;const{page:a}=u();y(t,a,t=>s(5,n=t));let{data:o}=e,r="Password for "+n.query.ssid,c=n.query.psk||"";return w(async()=>{console.log(r,c)}),t.$$set=t=>{"data"in t&&s(4,o=t.data)},[a,r,c,async function(t,e){console.log("[NetworkConnect] ğŸŒ  attempting connection to:",t,e,t.detail),x.set({type:"wait",message:"Connecting to "+n.query.ssid}),b.post("/network/connect?as=json",{ssid:n.query.ssid,psk:t.detail}).then(t=>{console.log("[NetworkConnect] âœ…ğŸŒ  successfully connected:",t),h("/"),x.set(null)}).catch(t=>{console.log("[NetworkConnect] âŒğŸŒ  errpr connecting:",t),x.set({type:"error",message:"Could not connect",status:403})})},o]}export default class extends e{constructor(t){super(),s(this,t,K,N,n,{data:4})}}export{j as preload};
