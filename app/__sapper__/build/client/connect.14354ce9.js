import{A as t,S as e,i as s,s as a,B as n,O as o,v as r,a as c,w as $,g as l,x as i,j as f,y as m,z as g,C as p,f as d,m as u,l as y,o as w,n as k,q as x,P as C,Q as b}from"./client.eb90a55a.js";import{K as h}from"./Keyboard.9baffd34.js";function q(t){let e,s;return e=new h({props:{placeholder:t[1],text:t[2]}}),e.$on("submit",t[3]),{c(){r(e.$$.fragment)},l(t){$(e.$$.fragment,t)},m(t,a){i(e,t,a),s=!0},p:k,i(t){s||(m(e.$$.fragment,t),s=!0)},o(t){g(e.$$.fragment,t),s=!1},d(t){p(e,t)}}}function j(t){let e,s,a,u;return e=new n({}),a=new o({props:{className:"mlr06 keyboard-wrapper",a:{grow:!0},$$slots:{default:[q]},$$scope:{ctx:t}}}),{c(){r(e.$$.fragment),s=c(),r(a.$$.fragment)},l(t){$(e.$$.fragment,t),s=l(t),$(a.$$.fragment,t)},m(t,n){i(e,t,n),f(t,s,n),i(a,t,n),u=!0},p(t,[e]){const s={};64&e&&(s.$$scope={dirty:e,ctx:t}),a.$set(s)},i(t){u||(m(e.$$.fragment,t),m(a.$$.fragment,t),u=!0)},o(t){g(e.$$.fragment,t),g(a.$$.fragment,t),u=!1},d(t){p(e,t),t&&d(s),p(a,t)}}}async function N(e,s){return t(e,s,this)}function K(t,e,s){let a;const{page:n}=u();y(t,n,t=>s(5,a=t));let{data:o}=e,r="Password for "+a.query.ssid,c=a.query.psk||"";return w(async()=>{console.log(r,c)}),t.$$set=t=>{"data"in t&&s(4,o=t.data)},[n,r,c,async function(t,e){console.log("[NetworkConnect] ğŸŒ  attempting connection to:",t,e,t.detail),x.set({type:"wait",message:"Connecting to "+a.query.ssid}),C.post("/network/connect?as=json",{ssid:a.query.ssid,psk:t.detail}).then(t=>{console.log("[NetworkConnect] âœ…ğŸŒ  successfully connected:",t),b("/"),x.set(null)}).catch(t=>{console.log("[NetworkConnect] âŒğŸŒ  errpr connecting:",t),x.set({type:"error",message:"Could not connect",status:403})})},o]}export default class extends e{constructor(t){super(),s(this,t,K,j,a,{data:4})}}export{N as preload};
