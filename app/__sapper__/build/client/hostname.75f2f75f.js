import{A as a,S as t,i as s,s as e,B as n,R as o,w as r,a as $,x as c,g as m,y as f,j as i,z as l,C as p,D as u,f as d,l as g,K as h,L as v,I as x,e as w,t as y,c as I,b as C,d as D,k as b,v as j,M as k,r as A,q as L,p as N}from"./client.bed04d7c.js";import{I as G}from"./IndexDropdown.d3305ecb.js";function H(a){let t;return{c(){t=y("Change Hostname")},l(a){t=D(a,"Change Hostname")},m(a,s){i(a,t,s)},d(a){a&&d(t)}}}function O(a){let t,s,e,n,o,g,A,L,N,O=(a[1]?a[1].hostname:"LOADING")+"";function q(t){a[5].call(null,t)}let z={};return void 0!==a[0]&&(z.a=a[0]),o=new G({props:z}),h.push(()=>v(o,"a",q)),o.$on("change",a[2]),L=new x({props:{a:{grow:!0},$$slots:{default:[H]},$$scope:{ctx:a}}}),L.$on("click",a[3]),{c(){t=w("div"),s=y("Current hostname: "),e=y(O),n=$(),r(o.$$.fragment),A=$(),r(L.$$.fragment)},l(a){t=I(a,"DIV",{});var r=C(t);s=D(r,"Current hostname: "),e=D(r,O),r.forEach(d),n=m(a),c(o.$$.fragment,a),A=m(a),c(L.$$.fragment,a)},m(a,r){i(a,t,r),b(t,s),b(t,e),i(a,n,r),f(o,a,r),i(a,A,r),f(L,a,r),N=!0},p(a,t){(!N||2&t)&&O!==(O=(a[1]?a[1].hostname:"LOADING")+"")&&j(e,O);const s={};!g&&1&t&&(g=!0,s.a=a[0],k(()=>g=!1)),o.$set(s);const n={};128&t&&(n.$$scope={dirty:t,ctx:a}),L.$set(n)},i(a){N||(l(o.$$.fragment,a),l(L.$$.fragment,a),N=!0)},o(a){p(o.$$.fragment,a),p(L.$$.fragment,a),N=!1},d(a){a&&d(t),a&&d(n),u(o,a),a&&d(A),u(L,a)}}}function q(a){let t,s,e,g;return t=new n({}),e=new o({props:{className:"mlr06 pb1",a:{grow:!0},$$slots:{default:[O]},$$scope:{ctx:a}}}),{c(){r(t.$$.fragment),s=$(),r(e.$$.fragment)},l(a){c(t.$$.fragment,a),s=m(a),c(e.$$.fragment,a)},m(a,n){f(t,a,n),i(a,s,n),f(e,a,n),g=!0},p(a,[t]){const s={};131&t&&(s.$$scope={dirty:t,ctx:a}),e.$set(s)},i(a){g||(l(t.$$.fragment,a),l(e.$$.fragment,a),g=!0)},o(a){p(t.$$.fragment,a),p(e.$$.fragment,a),g=!1},d(a){u(t,a),a&&d(s),u(e,a)}}}async function z(t,s){return a(t,s,this)}function B(a,t,s){let e;g(a,N,a=>s(1,e=a));let n,{data:o}=t,r={options:o,key:"hostname"};return a.$$set=a=>{"data"in a&&s(4,o=a.data)},a.$$.update=()=>{1&a.$$.dirty&&(n=void 0!==r.value?r.options[r.value]:void 0)},[r,e,function(a){n=r.options[r.value].hostname},function(a){null!=n&&A.post("/system/hostname?as=json",{hostname:n}).then(a=>{}).catch(a=>{L.set({type:"error",...a.response.data})})},o,function(a){r=a,s(0,r)}]}export default class extends t{constructor(a){super(),s(this,a,B,q,e,{data:4})}}export{z as preload};
