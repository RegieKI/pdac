import{A as t,S as a,i as e,s,B as n,O as r,v as $,a as o,w as m,g as f,x as c,j as i,y as p,z as d,C as g,f as l,q as u,P as h}from"./client.61e270f9.js";import{K as y}from"./Keyboard.ef32798c.js";function x(t){let a,e;return a=new y({props:{placeholder:"Enter a hostname",text:t[0]}}),a.$on("submit",t[1]),{c(){$(a.$$.fragment)},l(t){m(a.$$.fragment,t)},m(t,s){c(a,t,s),e=!0},p(t,e){const s={};1&e&&(s.text=t[0]),a.$set(s)},i(t){e||(p(a.$$.fragment,t),e=!0)},o(t){d(a.$$.fragment,t),e=!1},d(t){g(a,t)}}}function w(t){let a,e,s,u;return a=new n({}),s=new r({props:{className:"mlr06 keyboard-wrapper",a:{grow:!0},$$slots:{default:[x]},$$scope:{ctx:t}}}),{c(){$(a.$$.fragment),e=o(),$(s.$$.fragment)},l(t){m(a.$$.fragment,t),e=f(t),m(s.$$.fragment,t)},m(t,n){c(a,t,n),i(t,e,n),c(s,t,n),u=!0},p(t,[a]){const e={};33&a&&(e.$$scope={dirty:a,ctx:t}),s.$set(e)},i(t){u||(p(a.$$.fragment,t),p(s.$$.fragment,t),u=!0)},o(t){d(a.$$.fragment,t),d(s.$$.fragment,t),u=!1},d(t){g(a,t),t&&l(e),g(s,t)}}}async function j(a,e){return t(a,e,this)}function b(t,a,e){let s,{data:n}=a;return t.$$set=t=>{"data"in t&&e(2,n=t.data)},t.$$.update=()=>{4&t.$$.dirty&&e(0,s=n.hostname)},[s,function(t){u.set({type:"wait",message:"Setting hostname to "+t.detail}),h.post("/system/hostname?as=json",{hostname:t.detail}).then(t=>{}).catch(t=>{u.set({type:"error",...t.response.data})})},n]}export default class extends a{constructor(t){super(),e(this,t,b,w,s,{data:2})}}export{j as preload};
