import{A as a,S as t,i as s,s as e,B as n,P as o,u as r,a as $,v as c,g as m,w as f,j as i,y as l,z as u,C as p,f as d,l as g,H as h,I as v,F as x,e as w,t as y,c as I,b as C,d as j,k as D,x as k,K as A,r as H,q as N,p as b}from"./client.50e068d2.js";import{I as G}from"./IndexDropdown.3d729629.js";function L(a){let t;return{c(){t=y("Change Hostname")},l(a){t=j(a,"Change Hostname")},m(a,s){i(a,t,s)},d(a){a&&d(t)}}}function O(a){let t,s,e,n,o,g,H,N,b,O=(a[1]?a[1].hostname:"LOADING")+"";function q(t){a[5].call(null,t)}let z={};return void 0!==a[0]&&(z.a=a[0]),o=new G({props:z}),h.push(()=>v(o,"a",q)),o.$on("change",a[2]),N=new x({props:{a:{grow:!0},$$slots:{default:[L]},$$scope:{ctx:a}}}),N.$on("click",a[3]),{c(){t=w("div"),s=y("Current hostname: "),e=y(O),n=$(),r(o.$$.fragment),H=$(),r(N.$$.fragment)},l(a){t=I(a,"DIV",{});var r=C(t);s=j(r,"Current hostname: "),e=j(r,O),r.forEach(d),n=m(a),c(o.$$.fragment,a),H=m(a),c(N.$$.fragment,a)},m(a,r){i(a,t,r),D(t,s),D(t,e),i(a,n,r),f(o,a,r),i(a,H,r),f(N,a,r),b=!0},p(a,t){(!b||2&t)&&O!==(O=(a[1]?a[1].hostname:"LOADING")+"")&&k(e,O);const s={};!g&&1&t&&(g=!0,s.a=a[0],A(()=>g=!1)),o.$set(s);const n={};128&t&&(n.$$scope={dirty:t,ctx:a}),N.$set(n)},i(a){b||(l(o.$$.fragment,a),l(N.$$.fragment,a),b=!0)},o(a){u(o.$$.fragment,a),u(N.$$.fragment,a),b=!1},d(a){a&&d(t),a&&d(n),p(o,a),a&&d(H),p(N,a)}}}function q(a){let t,s,e,g;return t=new n({}),e=new o({props:{className:"mlr06 pb1",a:{grow:!0},$$slots:{default:[O]},$$scope:{ctx:a}}}),{c(){r(t.$$.fragment),s=$(),r(e.$$.fragment)},l(a){c(t.$$.fragment,a),s=m(a),c(e.$$.fragment,a)},m(a,n){f(t,a,n),i(a,s,n),f(e,a,n),g=!0},p(a,[t]){const s={};131&t&&(s.$$scope={dirty:t,ctx:a}),e.$set(s)},i(a){g||(l(t.$$.fragment,a),l(e.$$.fragment,a),g=!0)},o(a){u(t.$$.fragment,a),u(e.$$.fragment,a),g=!1},d(a){p(t,a),a&&d(s),p(e,a)}}}async function z(t,s){return a(t,s,this)}function B(a,t,s){let e;g(a,b,a=>s(1,e=a));let n,{data:o}=t,r={options:o,key:"hostname"};return a.$$set=a=>{"data"in a&&s(4,o=a.data)},a.$$.update=()=>{1&a.$$.dirty&&(n=void 0!==r.value?r.options[r.value]:void 0)},[r,e,function(a){n=r.options[r.value].hostname},function(a){null!=n&&H.post("/system/hostname?as=json",{hostname:n}).then(a=>{}).catch(a=>{N.set({type:"error",...a.response.data})})},o,function(a){r=a,s(0,r)}]}export default class extends t{constructor(a){super(),s(this,a,B,q,e,{data:4})}}export{z as preload};
