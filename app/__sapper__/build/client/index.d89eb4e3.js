import{S as e,i as s,s as a,e as r,t as n,a as t,c,b as l,d as o,f as i,g as f,h as g,j as h,k as d,n as p,l as v,m as u,o as w,p as m,q as y,r as k}from"./client.bed04d7c.js";function x(e){let s,a,v,u,w,m,y,k,x,b,S,A,E,W;return{c(){s=r("a"),a=n("Sessions"),v=t(),u=r("a"),w=n("Sync"),m=t(),y=r("a"),k=n("WLAN"),x=t(),b=r("a"),S=n("System"),A=t(),E=r("a"),W=n("Overview"),this.h()},l(e){s=c(e,"A",{class:!0,rel:!0,href:!0});var r=l(s);a=o(r,"Sessions"),r.forEach(i),v=f(e),u=c(e,"A",{class:!0,rel:!0,href:!0});var n=l(u);w=o(n,"Sync"),n.forEach(i),m=f(e),y=c(e,"A",{class:!0,rel:!0,href:!0});var t=l(y);k=o(t,"WLAN"),t.forEach(i),x=f(e),b=c(e,"A",{class:!0,rel:!0,href:!0});var g=l(b);S=o(g,"System"),g.forEach(i),A=f(e),E=c(e,"A",{class:!0,rel:!0,href:!0});var h=l(E);W=o(h,"Overview"),h.forEach(i),this.h()},h(){g(s,"class","grow flex align-center plr06"),g(s,"rel","prefetch"),g(s,"href","/session"),g(u,"class","grow flex align-center plr06"),g(u,"rel","prefetch"),g(u,"href","/sync"),g(y,"class","grow flex align-center plr06"),g(y,"rel","prefetch"),g(y,"href","/network"),g(b,"class","grow flex align-center plr06"),g(b,"rel","prefetch"),g(b,"href","/system"),g(E,"class","grow flex align-center plr06"),g(E,"rel","prefetch"),g(E,"href","/overview")},m(e,r){h(e,s,r),d(s,a),h(e,v,r),h(e,u,r),d(u,w),h(e,m,r),h(e,y,r),d(y,k),h(e,x,r),h(e,b,r),d(b,S),h(e,A,r),h(e,E,r),d(E,W)},p:p,i:p,o:p,d(e){e&&i(s),e&&i(v),e&&i(u),e&&i(m),e&&i(y),e&&i(x),e&&i(b),e&&i(A),e&&i(E)}}}function b(e,s,a){let r,n,t;v(e,m,e=>a(1,r=e)),v(e,y,e=>a(3,t=e));const{page:c}=u();async function l(){await m.grab(),console.log("[/:index.svelte] retrying for backend..."),!r.backend.active&&t?"wait"==t.type&&"Waiting for Backend"==t.message?(console.log("[/:index.svelte] ‚ÑπÔ∏è‚≠ïÔ∏è retrying for backend in 3 seconds"),setTimeout(l,3e3)):console.log("[/:index.svelte] ‚ÑπÔ∏è‚úÖ cancelled wait for backend"):y.set(void 0)}return v(e,c,e=>a(2,n=e)),w(async()=>{console.log("[/:index.svelte] üìä onMount main menu..."),await m.grab(),r.backend.active?r.wlan0.ssid||"/"!=n.path&&""!=n.path||k.get("/ping?as=json").then(()=>{console.log("[/:index.svelte] üêá‚úÖ directus successfully pinged")}).catch(()=>{y.set({type:"wlan",message:"Could not connect to API",close:"Skip",actions:[["Setup WLAN","/network"]]})}):(console.log("[/:index.svelte] ‚Ñπ‚ùå no backend, looping..."),y.set({type:"wait",message:"Waiting for Backend",close:"Skip"}),setTimeout(l,3e3))}),[c]}export default class extends e{constructor(e){super(),s(this,e,b,x,a,{})}}
