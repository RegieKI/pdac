import{S as t,i as e,s as a,a6 as n,w as $,x as s,y as r,z as c,C as o,D as l,X as f,Y as i,Z as u,a7 as p,B as m,$ as d,a as g,g as v,j as x,f as y,l as w,a4 as h,o as S,K as k,L as C,M as N,I as b,H as j,J as D,G as F,q as P,r as A,p as B,t as H,d as R,e as T,c as V,b as W,h as _,k as q}from"./client.bed04d7c.js";function z(t){let e;const a=t[3].default,n=f(a,t,t[4],null);return{c(){n&&n.c()},l(t){n&&n.l(t)},m(t,a){n&&n.m(t,a),e=!0},p(t,e){n&&n.p&&16&e&&i(n,a,t,t[4],e,null,null)},i(t){e||(c(n,t),e=!0)},o(t){o(n,t),e=!1},d(t){n&&n.d(t)}}}function E(t){let e,a;return e=new n({props:{a:t[0],style:t[1],className:t[2],$$slots:{default:[z]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment)},l(t){s(e.$$.fragment,t)},m(t,n){r(e,t,n),a=!0},p(t,[a]){const n={};1&a&&(n.a=t[0]),2&a&&(n.style=t[1]),4&a&&(n.className=t[2]),16&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(c(e.$$.fragment,t),a=!0)},o(t){o(e.$$.fragment,t),a=!1},d(t){l(e,t)}}}function G(t,e,a){let{a:n}=e;n={...u[p],...n};let{style:$=""}=e,{className:s=""}=e,{$$slots:r={},$$scope:c}=e;return t.$$set=t=>{"a"in t&&a(0,n=t.a),"style"in t&&a(1,$=t.style),"className"in t&&a(2,s=t.className),"$$scope"in t&&a(4,c=t.$$scope)},[n,$,s,r,c]}class I extends t{constructor(t){super(),e(this,t,G,E,a,{a:0,style:1,className:2})}}function J(t){let e;return{c(){e=H("Audio")},l(t){e=R(t,"Audio")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function K(t){let e;return{c(){e=H("Video")},l(t){e=R(t,"Video")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function L(t){let e;return{c(){e=H("Heartrate")},l(t){e=R(t,"Heartrate")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function M(t){let e,a,n,f,i,u,p,m,d;function w(e){t[11].call(null,e)}let h={$$slots:{default:[J]},$$scope:{ctx:t}};function S(e){t[12].call(null,e)}void 0!==t[1]&&(h.a=t[1]),e=new I({props:h}),k.push(()=>C(e,"a",w));let b={$$slots:{default:[K]},$$scope:{ctx:t}};function j(e){t[13].call(null,e)}void 0!==t[2]&&(b.a=t[2]),f=new I({props:b}),k.push(()=>C(f,"a",S));let D={$$slots:{default:[L]},$$scope:{ctx:t}};return void 0!==t[3]&&(D.a=t[3]),p=new I({props:D}),k.push(()=>C(p,"a",j)),{c(){$(e.$$.fragment),n=g(),$(f.$$.fragment),u=g(),$(p.$$.fragment)},l(t){s(e.$$.fragment,t),n=v(t),s(f.$$.fragment,t),u=v(t),s(p.$$.fragment,t)},m(t,a){r(e,t,a),x(t,n,a),r(f,t,a),x(t,u,a),r(p,t,a),d=!0},p(t,n){const $={};1048576&n&&($.$$scope={dirty:n,ctx:t}),!a&&2&n&&(a=!0,$.a=t[1],N(()=>a=!1)),e.$set($);const s={};1048576&n&&(s.$$scope={dirty:n,ctx:t}),!i&&4&n&&(i=!0,s.a=t[2],N(()=>i=!1)),f.$set(s);const r={};1048576&n&&(r.$$scope={dirty:n,ctx:t}),!m&&8&n&&(m=!0,r.a=t[3],N(()=>m=!1)),p.$set(r)},i(t){d||(c(e.$$.fragment,t),c(f.$$.fragment,t),c(p.$$.fragment,t),d=!0)},o(t){o(e.$$.fragment,t),o(f.$$.fragment,t),o(p.$$.fragment,t),d=!1},d(t){l(e,t),t&&y(n),l(f,t),t&&y(u),l(p,t)}}}function O(t){let e;return{c(){e=H("Face")},l(t){e=R(t,"Face")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function X(t){let e;return{c(){e=H("Body")},l(t){e=R(t,"Body")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function Y(t){let e;return{c(){e=H("Sockets")},l(t){e=R(t,"Sockets")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function Z(t){let e,a,n,f,i,u;return e=new I({props:{$$slots:{default:[O]},$$scope:{ctx:t}}}),n=new I({props:{$$slots:{default:[X]},$$scope:{ctx:t}}}),i=new I({props:{$$slots:{default:[Y]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),a=g(),$(n.$$.fragment),f=g(),$(i.$$.fragment)},l(t){s(e.$$.fragment,t),a=v(t),s(n.$$.fragment,t),f=v(t),s(i.$$.fragment,t)},m(t,$){r(e,t,$),x(t,a,$),r(n,t,$),x(t,f,$),r(i,t,$),u=!0},p(t,a){const $={};1048576&a&&($.$$scope={dirty:a,ctx:t}),e.$set($);const s={};1048576&a&&(s.$$scope={dirty:a,ctx:t}),n.$set(s);const r={};1048576&a&&(r.$$scope={dirty:a,ctx:t}),i.$set(r)},i(t){u||(c(e.$$.fragment,t),c(n.$$.fragment,t),c(i.$$.fragment,t),u=!0)},o(t){o(e.$$.fragment,t),o(n.$$.fragment,t),o(i.$$.fragment,t),u=!1},d(t){l(e,t),t&&y(a),l(n,t),t&&y(f),l(i,t)}}}function Q(t){let e;return{c(){e=H("RTSP")},l(t){e=R(t,"RTSP")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function U(t){let e;return{c(){e=H("File")},l(t){e=R(t,"File")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function tt(t){let e;return{c(){e=H("Window")},l(t){e=R(t,"Window")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function et(t){let e,a,n,f,i,u,p,m,d;function w(e){t[14].call(null,e)}let h={$$slots:{default:[Q]},$$scope:{ctx:t}};function S(e){t[15].call(null,e)}void 0!==t[4]&&(h.a=t[4]),e=new I({props:h}),k.push(()=>C(e,"a",w));let b={$$slots:{default:[U]},$$scope:{ctx:t}};function j(e){t[16].call(null,e)}void 0!==t[5]&&(b.a=t[5]),f=new I({props:b}),k.push(()=>C(f,"a",S));let D={$$slots:{default:[tt]},$$scope:{ctx:t}};return void 0!==t[6]&&(D.a=t[6]),p=new I({props:D}),k.push(()=>C(p,"a",j)),{c(){$(e.$$.fragment),n=g(),$(f.$$.fragment),u=g(),$(p.$$.fragment)},l(t){s(e.$$.fragment,t),n=v(t),s(f.$$.fragment,t),u=v(t),s(p.$$.fragment,t)},m(t,a){r(e,t,a),x(t,n,a),r(f,t,a),x(t,u,a),r(p,t,a),d=!0},p(t,n){const $={};1048576&n&&($.$$scope={dirty:n,ctx:t}),!a&&16&n&&(a=!0,$.a=t[4],N(()=>a=!1)),e.$set($);const s={};1048576&n&&(s.$$scope={dirty:n,ctx:t}),!i&&32&n&&(i=!0,s.a=t[5],N(()=>i=!1)),f.$set(s);const r={};1048576&n&&(r.$$scope={dirty:n,ctx:t}),!m&&64&n&&(m=!0,r.a=t[6],N(()=>m=!1)),p.$set(r)},i(t){d||(c(e.$$.fragment,t),c(f.$$.fragment,t),c(p.$$.fragment,t),d=!0)},o(t){o(e.$$.fragment,t),o(f.$$.fragment,t),o(p.$$.fragment,t),d=!1},d(t){l(e,t),t&&y(n),l(f,t),t&&y(u),l(p,t)}}}function at(t){let e,a;return{c(){e=T("a"),a=H("Preview"),this.h()},l(t){e=V(t,"A",{href:!0});var n=W(e);a=R(n,"Preview"),n.forEach(y),this.h()},h(){_(e,"href","/camera/preview")},m(t,n){x(t,e,n),q(e,a)},d(t){t&&y(e)}}}function nt(t){let e,a;return e=new b({props:{$$slots:{default:[st]},$$scope:{ctx:t}}}),e.$on("click",t[8]),{c(){$(e.$$.fragment)},l(t){s(e.$$.fragment,t)},m(t,n){r(e,t,n),a=!0},p(t,a){const n={};1048576&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(c(e.$$.fragment,t),a=!0)},o(t){o(e.$$.fragment,t),a=!1},d(t){l(e,t)}}}function $t(t){let e,a;return e=new b({props:{$$slots:{default:[rt]},$$scope:{ctx:t}}}),e.$on("click",t[9]),{c(){$(e.$$.fragment)},l(t){s(e.$$.fragment,t)},m(t,n){r(e,t,n),a=!0},p(t,a){const n={};1048576&a&&(n.$$scope={dirty:a,ctx:t}),e.$set(n)},i(t){a||(c(e.$$.fragment,t),a=!0)},o(t){o(e.$$.fragment,t),a=!1},d(t){l(e,t)}}}function st(t){let e;return{c(){e=H("Start")},l(t){e=R(t,"Start")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function rt(t){let e;return{c(){e=H("Stop")},l(t){e=R(t,"Stop")},m(t,a){x(t,e,a)},d(t){t&&y(e)}}}function ct(t){let e,a,n,f,i,u;e=new b({props:{$$slots:{default:[at]},$$scope:{ctx:t}}});const p=[$t,nt],m=[];function d(t,e){return t[7]?0:1}return n=d(t),f=m[n]=p[n](t),{c(){$(e.$$.fragment),a=g(),f.c(),i=j()},l(t){s(e.$$.fragment,t),a=v(t),f.l(t),i=j()},m(t,$){r(e,t,$),x(t,a,$),m[n].m(t,$),x(t,i,$),u=!0},p(t,a){const $={};1048576&a&&($.$$scope={dirty:a,ctx:t}),e.$set($);let s=n;n=d(t),n===s?m[n].p(t,a):(D(),o(m[s],1,1,()=>{m[s]=null}),F(),f=m[n],f||(f=m[n]=p[n](t),f.c()),c(f,1),f.m(i.parentNode,i))},i(t){u||(c(e.$$.fragment,t),c(f),u=!0)},o(t){o(e.$$.fragment,t),o(f),u=!1},d(t){l(e,t),t&&y(a),m[n].d(t),t&&y(i)}}}function ot(t){let e,a,n,f,i,u,p,w,h,S;return e=new m({props:{page:t[0]}}),n=new d({props:{$$slots:{default:[M]},$$scope:{ctx:t}}}),i=new d({props:{$$slots:{default:[Z]},$$scope:{ctx:t}}}),p=new d({props:{$$slots:{default:[et]},$$scope:{ctx:t}}}),h=new d({props:{$$slots:{default:[ct]},$$scope:{ctx:t}}}),{c(){$(e.$$.fragment),a=g(),$(n.$$.fragment),f=g(),$(i.$$.fragment),u=g(),$(p.$$.fragment),w=g(),$(h.$$.fragment)},l(t){s(e.$$.fragment,t),a=v(t),s(n.$$.fragment,t),f=v(t),s(i.$$.fragment,t),u=v(t),s(p.$$.fragment,t),w=v(t),s(h.$$.fragment,t)},m(t,$){r(e,t,$),x(t,a,$),r(n,t,$),x(t,f,$),r(i,t,$),x(t,u,$),r(p,t,$),x(t,w,$),r(h,t,$),S=!0},p(t,[a]){const $={};1&a&&($.page=t[0]),e.$set($);const s={};1048590&a&&(s.$$scope={dirty:a,ctx:t}),n.$set(s);const r={};1048576&a&&(r.$$scope={dirty:a,ctx:t}),i.$set(r);const c={};1048688&a&&(c.$$scope={dirty:a,ctx:t}),p.$set(c);const o={};1048704&a&&(o.$$scope={dirty:a,ctx:t}),h.$set(o)},i(t){S||(c(e.$$.fragment,t),c(n.$$.fragment,t),c(i.$$.fragment,t),c(p.$$.fragment,t),c(h.$$.fragment,t),S=!0)},o(t){o(e.$$.fragment,t),o(n.$$.fragment,t),o(i.$$.fragment,t),o(p.$$.fragment,t),o(h.$$.fragment,t),S=!1},d(t){l(e,t),t&&y(a),l(n,t),t&&y(f),l(i,t),t&&y(u),l(p,t),t&&y(w),l(h,t)}}}function lt(t,e,a){let n;w(t,B,t=>a(18,n=t));let{page:$={}}=e,{data:s={}}=e;function r(){return n.hostname+"_test_"+h()}let c,o={value:r()},l={value:!0},f={value:!0},i={value:!1},u={value:!1},p={value:!0},m={value:!1};return S(async()=>{navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices().then((function(t){for(var e=0;e<t.length;e++){var a=t[e];"videoinput"===a.kind&&console.log("[Camera] 🎥  camera available",e,{...a})}}))}),t.$$set=t=>{"page"in t&&a(0,$=t.page),"data"in t&&a(10,s=t.data)},t.$$.update=()=>{262144&t.$$.dirty&&a(7,c=n.backend.session.running)},[$,l,f,i,u,p,m,c,function(){const t={"session-id":o.value,sources:{audio:{active:l.value},video:{active:f.value},heartrate:{active:i.value}},sinks:{rstp:{active:u.value},file:{active:p.value},window:{active:m.value}}};console.log("[Camera] 📸 opening camera",t),P.set({type:"wait",message:"Opening camera"}),A.post("/camera/start?as=json",t).then(t=>{console.log("[Camera] 📸 ✅  successfully started"),P.set(null)}).catch(t=>{console.log("[Camera] ❌ error starting:",t.response.data),P.set({type:"error",...t.response.data})}).finally(t=>{B.grab()})},function(){P.set({type:"wait",message:"Closing camera"}),A.post("/camera/stop?as=json",{}).then(t=>{console.log("[Camera] 📸 🛑  successfully stopped"),P.set(null)}).catch(t=>{console.log("[Camera] ❌ error stopping:",t.response.data),P.set({type:"error",...t.response.data})}).finally(t=>{B.grab(),o.value=r()})},s,function(t){l=t,a(1,l)},function(t){f=t,a(2,f)},function(t){i=t,a(3,i)},function(t){u=t,a(4,u)},function(t){p=t,a(5,p)},function(t){m=t,a(6,m)}]}export default class extends t{constructor(t){super(),e(this,t,lt,ot,a,{page:0,data:10})}}
