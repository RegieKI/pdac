import{v as t,w as n,B as e,_ as r,a,b as o,c as s,i as c,s as i,d as f,S as u,C as p,Y as $,L as l,f as m,N as y,l as d,O as h,n as b,A as g,P as O,Q as v,R as w,k as j,y as P,Z as x,ab as D}from"./client.766b20db.js";import{K as R}from"./Keyboard.3b9f261e.js";function S(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=a(t);if(n){var s=a(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return o(this,e)}}function k(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function E(t){var n,e;return(n=new R({props:{placeholder:"Enter a hostname",text:t[0]}})).$on("submit",t[1]),{c:function(){l(n.$$.fragment)},l:function(t){y(n.$$.fragment,t)},m:function(t,r){h(n,t,r),e=!0},p:function(t,e){var r={};1&e&&(r.text=t[0]),n.$set(r)},i:function(t){e||(O(n.$$.fragment,t),e=!0)},o:function(t){v(n.$$.fragment,t),e=!1},d:function(t){w(n,t)}}}function K(t){var n,e,r,a;return n=new p({}),r=new $({props:{className:"mlr06 keyboard-wrapper",a:{grow:!0},$$slots:{default:[E]},$$scope:{ctx:t}}}),{c:function(){l(n.$$.fragment),e=m(),l(r.$$.fragment)},l:function(t){y(n.$$.fragment,t),e=d(t),y(r.$$.fragment,t)},m:function(t,o){h(n,t,o),b(t,e,o),h(r,t,o),a=!0},p:function(t,n){var e=g(n,1)[0],a={};33&e&&(a.$$scope={dirty:e,ctx:t}),r.$set(a)},i:function(t){a||(O(n.$$.fragment,t),O(r.$$.fragment,t),a=!0)},o:function(t){v(n.$$.fragment,t),v(r.$$.fragment,t),a=!1},d:function(t){w(n,t),t&&j(e),w(r,t)}}}function N(t,n){return A.apply(this,arguments)}function A(){return(A=t(n.mark((function t(r,a){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e(r,a,this));case 1:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function B(t,n,e){var r,a=n.data;return t.$$set=function(t){"data"in t&&e(2,a=t.data)},t.$$.update=function(){4&t.$$.dirty&&e(0,r=a.hostname)},[r,function(t){P.set({type:"wait",message:"Setting hostname to "+t.detail}),x.post("/system/hostname?as=json",{hostname:t.detail}).then((function(t){})).catch((function(t){P.set(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?k(Object(e),!0).forEach((function(n){D(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):k(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({type:"error"},t.response.data))}))},a]}var C=function(t){r(e,u);var n=S(e);function e(t){var r;return s(this,e),r=n.call(this),c(f(r),t,B,K,i,{data:2}),r}return e}();export default C;export{N as preload};
