import{_ as e,a as n,b as t,c as r,i as s,s as a,d as c,S as o,e as i,t as l,f,g as u,h as p,j as h,k as v,l as g,m as d,n as y,o as w,p as x,q as m,r as k,u as S,v as b,w as A,x as E,y as R,z as W}from"./client.c5348f98.js";function j(e){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,a=n(e);if(r){var c=n(this).constructor;s=Reflect.construct(a,arguments,c)}else s=a.apply(this,arguments);return t(this,s)}}function L(e){var n,t,r,s,a,c,o,m,k,S,b,A,E,R;return{c:function(){n=i("a"),t=l("Sessions"),r=f(),s=i("a"),a=l("Sync"),c=f(),o=i("a"),m=l("WLAN"),k=f(),S=i("a"),b=l("System"),A=f(),E=i("a"),R=l("Overview"),this.h()},l:function(e){n=u(e,"A",{class:!0,rel:!0,href:!0});var i=p(n);t=h(i,"Sessions"),i.forEach(v),r=g(e),s=u(e,"A",{class:!0,rel:!0,href:!0});var l=p(s);a=h(l,"Sync"),l.forEach(v),c=g(e),o=u(e,"A",{class:!0,rel:!0,href:!0});var f=p(o);m=h(f,"WLAN"),f.forEach(v),k=g(e),S=u(e,"A",{class:!0,rel:!0,href:!0});var d=p(S);b=h(d,"System"),d.forEach(v),A=g(e),E=u(e,"A",{class:!0,rel:!0,href:!0});var y=p(E);R=h(y,"Overview"),y.forEach(v),this.h()},h:function(){d(n,"class","grow flex align-center plr06"),d(n,"rel","prefetch"),d(n,"href","/session"),d(s,"class","grow flex align-center plr06"),d(s,"rel","prefetch"),d(s,"href","/sync"),d(o,"class","grow flex align-center plr06"),d(o,"rel","prefetch"),d(o,"href","/network"),d(S,"class","grow flex align-center plr06"),d(S,"rel","prefetch"),d(S,"href","/system"),d(E,"class","grow flex align-center plr06"),d(E,"rel","prefetch"),d(E,"href","/overview")},m:function(e,i){y(e,n,i),w(n,t),y(e,r,i),y(e,s,i),w(s,a),y(e,c,i),y(e,o,i),w(o,m),y(e,k,i),y(e,S,i),w(S,b),y(e,A,i),y(e,E,i),w(E,R)},p:x,i:x,o:x,d:function(e){e&&v(n),e&&v(r),e&&v(s),e&&v(c),e&&v(o),e&&v(k),e&&v(S),e&&v(A),e&&v(E)}}}var N="Waiting for Backend";function D(e,n,t){var r,s,a;m(e,R,(function(e){return t(1,r=e)})),m(e,E,(function(e){return t(3,a=e)}));var c=k().page;function o(){return i.apply(this,arguments)}function i(){return(i=b(A.mark((function e(){return A.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.grab();case 2:console.log("[/:index.svelte] retrying for backend..."),!r.backend.active&&a?"wait"==a.type&&a.message==N?(console.log("[/:index.svelte] ‚ÑπÔ∏è‚≠ïÔ∏è retrying for backend in 3 seconds"),setTimeout(o,3e3)):console.log("[/:index.svelte] ‚ÑπÔ∏è‚úÖ cancelled wait for backend"):E.set(void 0);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return m(e,c,(function(e){return t(2,s=e)})),S(b(A.mark((function e(){return A.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("[/:index.svelte] üìä onMount main menu..."),e.next=3,R.grab();case 3:r.backend.active?r.wlan0.ssid||"/"!=s.path&&""!=s.path||W.get("/ping?as=json").then((function(){console.log("[/:index.svelte] üêá‚úÖ directus successfully pinged")})).catch((function(){E.set({type:"wlan",message:"Could not connect to API",close:"Skip",actions:[["Setup WLAN","/network"]]})})):(console.log("[/:index.svelte] ‚Ñπ‚ùå no backend, looping..."),E.set({type:"wait",message:N,close:"Skip"}),setTimeout(o,3e3));case 4:case"end":return e.stop()}}),e)})))),[c]}var O=function(n){e(i,o);var t=j(i);function i(e){var n;return r(this,i),n=t.call(this),s(c(n),e,D,L,a,{}),n}return i}();export default O;
